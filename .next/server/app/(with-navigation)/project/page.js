(()=>{var e={};e.id=192,e.ids=[192],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},12781:e=>{"use strict";e.exports=require("stream")},76224:e=>{"use strict";e.exports=require("tty")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},5374:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>x,routeModule:()=>u,tree:()=>c}),s(18689),s(58145),s(75786),s(74762);var r=s(36911),a=s(48218),n=s(40255),i=s.n(n),l=s(29379),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(with-navigation)",{children:["project",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,18689)),"/Users/hrkim/Desktop/next/career-client/src/app/(with-navigation)/project/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,58145)),"/Users/hrkim/Desktop/next/career-client/src/app/(with-navigation)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,75786,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,25585))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,74762)),"/Users/hrkim/Desktop/next/career-client/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,75786,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,25585))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],x=["/Users/hrkim/Desktop/next/career-client/src/app/(with-navigation)/project/page.tsx"],d="/(with-navigation)/project/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/(with-navigation)/project/page",pathname:"/project",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},84044:(e,t,s)=>{Promise.resolve().then(s.bind(s,57184))},57184:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>U});var r=s(55677),a=s(61387),n=s(14327);let i=async()=>await (0,n.bN)("/projects"),l=async e=>await (0,n.bN)(`/projects/${e}`);var o=s(47634),c=s(24436);let x=()=>{let[e,t]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"w-full flex items-center justify-between mb-[1.875rem]",children:[r.jsx("p",{className:"font-head-20 text-text-strong",children:"프로젝트"}),(0,r.jsxs)("button",{className:"button-primary button-medium",onClick:()=>t(!0),children:[r.jsx(c.Z,{size:20,stroke:"#fff"}),r.jsx("p",{className:"font-body-14 text-text-invert",children:"추가"})]})]}),r.jsx(o.Z,{isOpen:e,closeSheet:()=>t(!1)})]})};var d=s(85269);let p={src:"/_next/static/media/project-empty.93d3d496.png",height:100,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEVMaXGYmaKZm6GZm6CWm6GYnKCurrmZnKCZnZ93kOB2AAAACXRSTlMAFGCAKrcHozskKa1AAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAMUlEQVR4nB2IQQ4AMAiDaKtz/3/x4i5AADjYIGscQ3XivkKVzO2CtHwASktA4o+N9QMViwB/v+xSgAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},u=()=>(0,r.jsxs)("div",{className:"w-full flex items-center justify-center flex-col gap-10 mt-[5.625rem]",children:[r.jsx("p",{className:"font-body-16 text-text-normal",children:"프로젝트를 추가하고 회고해보세요"}),r.jsx(d.default,{src:p,alt:"no project",width:100,height:100})]});var m=s(4656);let h=(e,t)=>{let s=t.weekNumber.year-e.weekNumber.year,r=t.weekNumber.month-e.weekNumber.month,a=t.weekNumber.week-e.weekNumber.week;return s||r||a};var g=s(1941);let j=async(e,t)=>await (0,n.vx)(`/projects/${e}`,t);var f=s(66084),v=s(59613),b=s(6098),w=s(34522),y=s(70100);let A=({size:e=16,stroke:t="#999CA1",...s})=>r.jsx("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:r.jsx("path",{d:"M6 3L12 8L6 13",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})});var N=s(94631),k=s(26545),S=s(5163);let q=({className:e})=>r.jsx("span",{className:(0,S.cn)("w-0 h-[3.75rem] border-l border-line-normalHover",e)}),C=({type:e,review:t,week:s,last:a})=>(0,r.jsxs)("div",{className:"flex gap-4 h-[5.375rem] relative",children:["highlight"===e?r.jsx(N.Z,{size:24,className:"mt-2"}):r.jsx(k.Z,{size:24,className:"mt-2"}),!a&&r.jsx(q,{className:"absolute left-2.5 top-10"}),(0,r.jsxs)("div",{className:"w-full",children:[r.jsx("div",{className:"mb-1 border border-line-assistive bg-surface-foreground rounded-lg p-3",children:r.jsx("p",{className:"font-body-14 text-text-strong line-clamp-2",children:t})}),(0,r.jsxs)("div",{className:"flex items-center gap-0.5 justify-end",children:[r.jsx("p",{className:"font-body-13 text-text-strong",children:`${s.month}월 ${s.week}주차`}),r.jsx(A,{size:16})]})]})]}),D=({isOpen:e,closeSheet:t,projectId:s,initialTitle:n,initialDate:i,initialGoal:l,initialDescription:o,reviews:c})=>{let{addToast:x}=(0,y.Z)(),[d,p]=(0,a.useState)(""),[u,h]=(0,a.useState)({start:"",end:""}),[A,N]=(0,a.useState)(""),[k,S]=(0,a.useState)(""),[q,D]=(0,a.useState)(!1);(0,a.useEffect)(()=>{e&&(p(n??""),h(i??{start:"",end:""}),N(l??""),S(o??""),N(l??""))},[e,n,i,l,o]);let P=async()=>{let e={title:d,startDate:u.start,endDate:u.end,goal:A,content:k};try{await j(s,e),x({message:"프로젝트 내용이 수정되었어요.",iconType:"success"}),t()}catch(e){x({message:"프로젝트 수정에 실패했어요. 다시 시도해주세요.",iconType:"error"})}};return(0,r.jsxs)(g.Z,{isOpen:e,closeActionSheet:()=>D(!0),buttons:[{text:"저장",onClick:P}],children:[r.jsx(b.Z,{placeholder:"프로젝트 이름",className:"!font-bold",value:d,onChange:e=>p(e.currentTarget.value),id:String(s)}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 mb-6 mt-3",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("p",{className:"font-body-14 text-text-normal",children:"기간"}),r.jsx(f.Z,{date:u,setDate:h})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("p",{className:"font-body-14 text-text-normal",children:"목표"}),r.jsx(v.Z,{placeholder:"목표를 입력해주세요",maxLength:50,value:A,onChange:e=>N(e.currentTarget.value)})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-1",children:[r.jsx("p",{className:"font-body-14 text-text-normal",children:"내용"}),r.jsx(w.Z,{placeholder:"내용을 입력해주세요",maxLength:160,className:"h-[9.6875rem]",value:k,onChange:e=>S(e)})]})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"mb-5 font-title-16 text-text-strong",children:"연관된 회고"}),r.jsx("div",{className:"flex flex-col gap-3",children:c?.map(e=>r.jsx(C,{type:e.type,review:e.content,week:e.weekNumber,last:e===c[c.length-1]},e.id))})]}),r.jsx(m.Z,{isOpen:q,onDismiss:()=>D(!1),title:"변경사항을 저장하지 않고 나가시겠어요?",buttons:{left:{text:"취소"},right:{text:"확인",onClick:t}}})]})},P=({title:e,content:t})=>(0,r.jsxs)("div",{className:"flex gap-4",children:[r.jsx("p",{className:"font-body-14 text-text-normal shrink-0",children:e}),r.jsx("p",{className:"font-body-14 text-text-strong",children:t})]}),Z=({percentage:e})=>r.jsx("div",{className:"w-full bg-surface-background rounded relative h-1.5",children:r.jsx("div",{className:"absolute left-0 top-0 bottom-0 h-1.5 rounded bg-surface-normal",style:{width:`${e}%`}})}),_=({startDate:e,endDate:t,percentage:s})=>(0,r.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("p",{className:"font-body-14 text-text-strong",children:[e," - ",t]}),(0,r.jsxs)("p",{className:"font-body-14 text-text-primary",children:[s,"%"]})]}),r.jsx(Z,{percentage:s})]}),G=({isOpen:e,closeSheet:t,projectId:s})=>{let[n,i]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!1),[x,d]=(0,a.useState)(),[p,u]=(0,a.useState)([]),j=(0,a.useCallback)(async()=>{let e=await l(s);d(e),u(f(e.projects[0].highlights,e.projects[0].lowlights))},[s]);(0,a.useEffect)(()=>{e&&j()},[e,j]);let f=(e,t)=>{let s=[...e.map(e=>({...e,type:"highlight"})),...t.map(e=>({...e,type:"lowlight"}))];return s.sort(h),s};return(0,r.jsxs)(r.Fragment,{children:[r.jsx(g.Z,{isOpen:e,closeActionSheet:t,buttons:[{text:"삭제",buttonStyle:"line",onClick:()=>i(!0)},{text:"수정",buttonStyle:"line",onClick:()=>c(!0)}],children:r.jsx(r.Fragment,{children:x?(0,r.jsxs)(r.Fragment,{children:[r.jsx("p",{className:"font-head-24 text-text-strong mb-4",children:x.projects[0].title}),r.jsx(_,{startDate:x.projects[0].startDate,endDate:x.projects[0].endDate,percentage:x.projects[0].progress}),(0,r.jsxs)("div",{className:"flex flex-col gap-4 mb-6",children:[r.jsx(P,{title:"목표",content:x.projects[0].goal}),r.jsx(P,{title:"내용",content:x.projects[0].title})]}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"mb-5 font-title-16 text-text-strong",children:"연관된 회고"}),r.jsx("div",{className:"flex flex-col gap-3",children:p.map(e=>r.jsx(C,{type:e.type,review:e.content,week:e.weekNumber,last:e===p[p.length-1]},`${e.type}-${e.id}`))})]})]}):r.jsx(M,{})})}),r.jsx(m.Z,{isOpen:n,title:"정말로 삭제하시겠어요?",onDismiss:()=>i(!1),buttons:{left:{text:"취소"},right:{text:"확인",onClick:t}}}),r.jsx(D,{isOpen:o,closeSheet:async()=>{c(!1),await j()},projectId:s,initialTitle:x?.projects[0].title,initialDate:{start:x?.projects[0].startDate??"",end:x?.projects[0].endDate??""},initialGoal:x?.projects[0].goal,initialDescription:x?.projects[0].title,reviews:p})]})},M=()=>r.jsx("div",{className:"w-full h-full flex items-center justify-center",children:r.jsx("p",{className:"font-body-16 text-text-weak",children:"로딩중..."})});var E=s(17975);let O=({id:e,title:t,progress:s,onClose:n})=>{let[i,l]=(0,a.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"w-full rounded-lg flex items-center justify-between gap-2.5 bg-surface-foreground px-5 py-3 hover:bg-surface-foregroundOn cursor-pointer",onClick:()=>l(!0),children:[r.jsx("p",{className:"font-body-16 text-text-strong max-w-[53.375rem] text-ellipsis whitespace-nowrap overflow-hidden",title:t,children:t}),r.jsx(E.Z,{percentage:s})]},e),r.jsx(G,{projectId:e,isOpen:i,closeSheet:()=>{n?.(),l(!1)}})]})};function U(){let[e,t]=(0,a.useState)([]),s=async()=>{let{projects:e}=await i();t(e)};return(0,r.jsxs)("div",{className:"w-[60rem]",children:[r.jsx(x,{}),r.jsx("div",{className:"w-full flex flex-col gap-3",children:e.length>0?r.jsx(r.Fragment,{children:e.map(e=>r.jsx(O,{id:e.id,title:e.title,progress:e.progress,onClose:s},e.id))}):r.jsx(u,{})})]})}},18689:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=s(48770);let a=(0,r.createProxy)(String.raw`/Users/hrkim/Desktop/next/career-client/src/app/(with-navigation)/project/page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,r.createProxy)(String.raw`/Users/hrkim/Desktop/next/career-client/src/app/(with-navigation)/project/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[435,638,246,940,204,759,289,735,988,636],()=>s(5374));module.exports=r})();