(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{50352:function(e,t,r){Promise.resolve().then(r.bind(r,23351))},69219:function(e,t,r){"use strict";var s=r(61128);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},18775:function(e,t,r){"use strict";r.d(t,{GZ:function(){return u},QQ:function(){return i},bN:function(){return o},vx:function(){return c}});var s=r(54250),n=r(49038);let a=s.default.create({baseURL:"",responseType:"json"});a.interceptors.request.use(e=>{let t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=t),e},e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{if((0,n.IZ)(e)&&e.response){var t,r;return Promise.reject({status:e.response.status,message:(null===(t=e.response.data)||void 0===t?void 0:t.message)||"An error occurred",code:(null===(r=e.response.data)||void 0===r?void 0:r.code)||"Unknown error"})}return Promise.reject(e)});let o=async(e,t)=>(await a.get(e,t)).data,i=async(e,t,r)=>(await a.post(e,t,r)).data,c=async(e,t,r)=>(await a.put(e,t,r)).data,u=async(e,t)=>(await a.delete(e,t)).data},23351:function(e,t,r){"use strict";r.d(t,{default:function(){return F}});var s=r(47586),n=r(80890),a=r(69219),o=r(28823),i=r(86241);let c=(0,o.forwardRef)((e,t)=>{let{value:r,onChange:n,errorText:a,...o}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("input",{type:"text",inputMode:"numeric",className:"p-3 border border-line-normal bg-surface-foreground rounded-lg font-body-14 text-neutral-90 hover:border-line-normalHover placeholder:text-text-normal focus:outline-line-focus disabled:border-line-normal disabled:text-text-assistive disabled:placeholder:text-text-assistive w-10 h-11 text-center",style:a?{borderColor:i.Z.state.negative,outline:i.Z.state.negative}:{},value:r,onChange:n,maxLength:1,size:1,ref:t,...o}),a&&(0,s.jsx)("p",{className:"text-state-negative font-body-12 mt-[2px]",children:a})]})});c.displayName="NumberInput";let u=e=>{let{timeLimit:t,interval:r=1e3}=e,[s,n]=(0,o.useState)(t),[a,i]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=setInterval(()=>{n(e=>e-r)},r);return s<=0&&(clearInterval(e),i(!0)),()=>clearInterval(e)},[s,r]),{isTimeExpired:a,minutes:(0,o.useMemo)(()=>Math.floor(s/6e4%60),[s]),seconds:(0,o.useMemo)(()=>Math.floor(s/1e3%60),[s])}};var l=r(96181),d=r(41834),f=r(663),F=()=>{let e=(0,a.useRouter)(),[t,r]=(0,o.useState)(Array(6).fill("")),i=(0,o.useRef)([]),[{email:F,id:m},p]=(0,n.KO)(d.I),{userEmailVerification:h}=(0,l.a)();(0,o.useEffect)(()=>{""===F&&e.push("/auth/enter-email")},[F,e]);let{isTimeExpired:g,minutes:v,seconds:y}=u({timeLimit:3e5}),E=(e,s)=>{let n=/^[0-9]$/.test(e);if(""!==e&&!n)return;let a=[...t];if(a[s]=e,r(a),e&&s<t.length-1){var o;null===(o=i.current[s+1])||void 0===o||o.focus()}},x=(e,r)=>{if("Backspace"===e.key&&""===t[r]&&0!==r){var s;null===(s=i.current[r-1])||void 0===s||s.focus()}},b=async r=>{if(r.preventDefault(),g){e.push("/auth/enter-email"),p({email:"",id:""});return}"success"===await h(m,t.join(""))&&e.push("/auth/password")},C=(0,o.useMemo)(()=>!!g||t.every(e=>""!==e),[t,g]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{className:"font-body-14 mb-12 text-text-strong",children:[(0,s.jsx)("span",{className:"font-title-14 mr-0.5",children:F}),"으로 전송된 인증 메일을 확인해 주세요."]}),(0,s.jsxs)("form",{className:"flex flex-col items-center gap-5 w-[22.25rem]",onSubmit:b,children:[(0,s.jsx)("div",{className:"flex gap-2",children:t.map((e,t)=>(0,s.jsx)(c,{value:e,onChange:e=>E(e.currentTarget.value,t),autoFocus:0===t,ref:e=>{i.current[t]=e},onKeyDown:e=>x(e,t)},"code-".concat(t)))}),g?(0,s.jsx)("p",{className:"font-body-14 text-text-primary",children:"인증 번호를 재전송해 주세요."}):(0,s.jsx)("p",{className:"font-body-14 text-text-strong",children:"".concat(v,":").concat((0,f.K)(y,2))}),(0,s.jsx)("button",{type:"submit",className:"button-primary h-12 rounded-xl w-full",disabled:!C,children:"확인"}),(0,s.jsxs)("p",{className:"font-body-14 text-center mt-10 whitespace-pre-wrap text-text-strong",children:["메일이 오지 않으셨나요?\n스팸함을 확인하거나 인증 메일을 ",(0,s.jsx)("strong",{className:"font-title-14",children:"재전송"}),"해 주세요."]})]})]})}},29335:function(e,t,r){"use strict";var s=r(80890),n=r(28823),a=r(58098);t.Z=()=>{let e=(0,s.b9)(a.f),[t,r]=(0,s.KO)(a.y);return{addToast:(0,n.useCallback)(s=>{let{message:n,iconType:a}=s;r(e=>e+1),e(e=>[{id:t,message:n,iconType:a},...e]),setTimeout(()=>{e(e=>e.filter(e=>e.id!==t))},3e3)},[t,r,e])}}},96181:function(e,t,r){"use strict";r.d(t,{a:function(){return p}});var s=r(80890),n=r(69219),a=r(18775);let o={incorrect_password:"이메일 또는 비밀번호를 다시 확인해 주세요.",resource_not_found:"올바른 이메일 주소를 입력해 주세요.",already_exist_email:"이미 등록된 이메일입니다.",invalid_request:"올바른 이메일 주소를 입력해 주세요."},i=e=>o[e.code]?{errorMessage:o[e.code]}:{errorMessage:"Unknown error"},c=async(e,t)=>{try{return await (0,a.QQ)("/auth/sign-in",{email:e,password:t})}catch(e){return i(e)}},u=async e=>{try{return await (0,a.QQ)("/auth/email",{email:e})}catch(e){return i(e)}},l=async(e,t)=>{try{return await (0,a.QQ)("/auth/email/verification",{emailId:e,code:t})}catch(e){return i(e)}},d=async e=>{let{emailId:t,password:r,nickname:s}=e;try{return await (0,a.QQ)("/auth/sign-up",{emailId:t,password:r,nickname:s})}catch(e){return i(e)}};var f=r(41834);let F=(0,r(70140).cn)({accessToken:"",refreshToken:""});var m=r(29335);let p=()=>{let e=(0,n.useRouter)(),t=(0,s.b9)(F),r=(0,s.b9)(f.I),{addToast:a}=(0,m.Z)();return{userLogin:async(e,r)=>{let s=await c(e,r);if(!("accessToken"in s))return a({message:s.errorMessage,iconType:"error"}),"error";{let e=s.accessToken;return localStorage.setItem("accessToken",e),t(e=>({...e,accessToken:s.accessToken})),"success"}},userEmailCheck:async e=>{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return a({message:"올바른 이메일 주소를 입력해 주세요.",iconType:"error"}),"error";let t=await u(e);return"id"in t?(r(t),a({message:"인증 메일을 전송했어요.",iconType:"success"}),"success"):(a({message:t.errorMessage,iconType:"error"}),"error")},userEmailVerification:async(e,t)=>{let r=await l(e,t);return"isVerified"in r&&r.isVerified?"success":(a({message:"인증번호를 다시 확인해주세요.",iconType:"error"}),"error")},userSignUp:async e=>{let{emailId:r,password:s,nickname:n}=e,o=await d({emailId:r,password:s,nickname:n});return"token"in o?(localStorage.setItem("accessToken",o.token),t(e=>({...e,accessToken:o.token})),"success"):(a({message:o.errorMessage,iconType:"error"}),"error")},userExpired:t=>{var r;(401===t.status||(null===(r=t.response)||void 0===r?void 0:r.status)===401)&&(e.push("/auth/login"),localStorage.setItem("accessToken",""))}}}},58098:function(e,t,r){"use strict";r.d(t,{f:function(){return n},y:function(){return a}});var s=r(70140);let n=(0,s.cn)([]),a=(0,s.cn)(0)},41834:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});let s=(0,r(70140).cn)({id:"",email:""})},86241:function(e,t){"use strict";t.Z={neutral:{95:"#1C1D1E",90:"#292A2D",80:"#4D4F52",70:"#66696E",60:"#808389",50:"#999CA1",40:"#B3B5B8",30:"#CECECE",20:"#E1E1E1",10:"#EFEFEF",white:"#FFFFFF"},red:{90:"#451305",80:"#7F270F",70:"#C02C02",60:"#E33302",50:"#FF3D0D",40:"#FF5C37",30:"#FF8A70",20:"#FFB8A9",10:"#FFDDD4",5:"#FFF2EF"},green:{90:"#1C4B00",80:"#245F00",70:"#348700",60:"#43B000",50:"#5FD915",40:"#7FFF30",30:"#ADFF7B",20:"#C4FFA0",10:"#DBFFC5",5:"#F2FFEA"},transparent:"transparent",text:{strong:"#292A2D",normal:"#66696E",neutral:"#999CA1",assistive:"#CECECE",invert:"#FFFFFF",primary:"#FF3D0D"},surface:{foreground:"#FFFFFF",foregroundOn:"#F7F7F7",background:"#EFEFEF",base:"#E1E1E1",accent:"#999CA1",alternative:"#4D4F52",invert:"#1C1D1E",strong:"#E33302",normal:"#FF3D0D",light:"#FFDDD4",blank:"transparent",dimmer:"#00000080",assistive:"#00000014"},line:{normal:"#CECECE",normalHover:"#B3B5B8",assistive:"#EFEFEF",focus:"#FF5C37"},button:{primary:"#1C1D1E",primaryHover:"#4D4F52",secondary:"#E1E1E1",secondaryHover:"#CECECE",disabled:"#F7F7F7"},state:{positive:"#43B000",caution:"#FFD02A",negative:"#E20000"}}},663:function(e,t,r){"use strict";r.d(t,{K:function(){return s}});let s=(e,t)=>e.toString().padStart(t,"0")}},function(e){e.O(0,[890,38,366,400,744],function(){return e(e.s=50352)}),_N_E=e.O()}]);