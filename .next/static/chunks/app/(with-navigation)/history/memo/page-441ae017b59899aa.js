(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{47210:function(e,t,n){Promise.resolve().then(n.bind(n,70404)),Promise.resolve().then(n.bind(n,1594))},12507:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(72330),a=n.n(r)},61621:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(95384),a=n.n(r)},69219:function(e,t,n){"use strict";var r=n(61128);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},72330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return m},getImageProps:function(){return i}});let r=n(3397),a=n(90052),s=n(14569),o=r._(n(45074));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let m=s.Image},22933:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(18775);let a=async e=>{let{content:t,isMarked:n}=e;return await (0,r.QQ)("/memos",{content:t,isMarked:n})}},70404:function(e,t,n){"use strict";n.d(t,{default:function(){return w}});var r=n(47586),a=n(80890),s=n(61621),o=n(69219),i=n(28823),m=n(3855),l=n(22933),c=n(57882),u=n(12305),d=n(41778),f=e=>{let{initialState:t=!1,onChange:n}=e,[a,s]=(0,i.useState)(t);return(0,r.jsx)("button",{className:(0,d.cn)("w-[2.125rem] h-5 flex items-center rounded-2xl p-[0.188rem] cursor-pointer",a?"bg-surface-normal":"bg-surface-base"),onClick:()=>{s(e=>!e),null==n||n(!a)},type:"button",children:(0,r.jsx)("div",{className:(0,d.cn)("w-3.5 h-3.5 bg-surface-foreground rounded-full duration-300",a?"translate-x-[.9rem]":"translate-x-0")})})},h=n(656),x=n(86091),k=n(31407);let p=[{month:7,week:1,items:[{id:"memo-1",isBookmark:!1,title:"신규 서비스 개요",memo:"목표: 서비스 사용자 만족도 향상 및 체류 시간 증가\n주요 기능: 사용자 맞춤 추천, 실시간 알림 시스템, 사용자 피드백 통합",date:"7.22"},{id:"memo-2",isBookmark:!0,title:"리더님 피드백",memo:"유관 부서에 지표 리포트할 때 항상 엑셀 파일 첨부하기\n엑셀 제목은 데이터 날짜 항상 표기하기!",date:"7.24"},{id:"memo-3",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-4",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-5",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-6",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-7",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-8",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-9",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-10",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"}]},{month:6,week:4,items:[{id:"memo-11",isBookmark:!1,title:"신규 서비스 개요",memo:"목표: 서비스 사용자 만족도 향상 및 체류 시간 증가\n주요 기능: 사용자 맞춤 추천, 실시간 알림 시스템, 사용자 피드백 통합",date:"7.22"},{id:"memo-12",isBookmark:!0,title:"리더님 피드백",memo:"유관 부서에 지표 리포트할 때 항상 엑셀 파일 첨부하기\n엑셀 제목은 데이터 날짜 항상 표기하기!",date:"7.24"}]}],b=[{label:"회고",path:"/history/review"},{label:"메모",path:"/history/memo"}];var w=()=>{let e=(0,o.usePathname)(),[t,n]=(0,a.KO)(h.d),w=(0,a.b9)(x.Z),[g,A]=(0,i.useState)(!1),j=e=>Object.values(e.contents.reduce((e,t)=>{let{year:n,month:r,week:a}=t.weekNumber,s={id:t.id,content:t.content,isMarked:t.isMarked,updatedAt:t.updatedAt},o="".concat(n,"-").concat(r,"-").concat(a);return e[o]?e[o].memos.push(s):e[o]={weekNumber:t.weekNumber,memos:[s]},e},{})).sort(k.H),N=async e=>{try{await (0,l.h)({content:e,isMarked:!1})}catch(e){console.log("fail to add memo",e)}};return(0,r.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-5 h-11",children:[b.map(t=>(0,r.jsx)(s.default,{href:t.path,children:(0,r.jsx)("p",{className:(0,d.cn)("font-head-20",t.path===e?"text-text-strong":"text-text-neutral"),children:t.label})},t.path)),"/history/memo"===e&&p.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("p",{className:"font-body-14 text-text-normal",children:"북마크만 보기"}),(0,r.jsx)(f,{initialState:t,onChange:n})]})]}),"/history/memo"===e&&(0,r.jsxs)("button",{type:"button",className:"button-primary button-medium",onClick:()=>A(!0),children:[(0,r.jsx)(c.Z,{size:20,stroke:"#fff"}),(0,r.jsx)("p",{className:"font-body-14 text-text-invert",children:"메모 추가"})]}),(0,r.jsx)(u.Z,{isOpen:g,onDismiss:()=>{A(!1)},onSaveText:async e=>{await N(e),w(j(await (0,m.r)({})))},value:""})]})}},1594:function(e,t,n){"use strict";n.d(t,{default:function(){return x}});var r=n(47586),a=n(80890),s=n(28823),o=n(3855),i=n(656),m=n(86091),l=n(31407),c=n(12507),u=n(65492),d=()=>(0,r.jsxs)("div",{className:"flex flex-col items-center gap-10 mt-[7rem]",children:[(0,r.jsx)("p",{className:"font-body-16 text-text-normal",children:"(스패너 나뒹구는 소리...텅 텅)"}),(0,r.jsx)(c.default,{src:u.Z,width:100,height:100,priority:!0,alt:"no-memo-history"})]}),f=n(89137),h=e=>{let{currentWeek:t,memos:n}=e;return(0,r.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,r.jsxs)("p",{className:"font-title-16 text-text-normal",children:[t.month,"월 ",t.week,"주"]}),(0,r.jsx)("div",{className:"grid gap-[15px] grid-cols-4",children:n.map(e=>(0,r.jsx)(f.Z,{id:String(e.id),memo:e.content,date:e.updatedAt,isBookmark:e.isMarked,className:"w-[229px] h-[10rem]"},e.id))})]},"".concat(t.year,"-").concat(t.month,"-").concat(t.week))},x=()=>{let e=(0,a.Dv)(i.d),[t,n]=(0,a.KO)(m.Z),[c,u]=(0,s.useState)([]),f=e=>Object.values(e.contents.reduce((e,t)=>{let{year:n,month:r,week:a}=t.weekNumber,s={id:t.id,content:t.content,isMarked:t.isMarked,updatedAt:t.updatedAt},o="".concat(n,"-").concat(r,"-").concat(a);return e[o]?e[o].memos.push(s):e[o]={weekNumber:t.weekNumber,memos:[s]},e},{})).sort(l.H),x=e=>e.map(e=>({weekNumber:e.weekNumber,memos:e.memos.filter(e=>e.isMarked)})).filter(e=>e.memos.length>0);return((0,s.useEffect)(()=>{(async()=>{n(f(await (0,o.r)({})))})()},[]),(0,s.useEffect)(()=>{e?u(x(t)):u(t)},[t,e]),0===t.length)?(0,r.jsx)(d,{}):(0,r.jsx)(r.Fragment,{children:c.map(e=>{let{weekNumber:t,memos:n}=e;return(0,r.jsx)(h,{currentWeek:t,memos:n},"".concat(t.year,"-").concat(t.month,"-").concat(t.week))})})}},57882:function(e,t,n){"use strict";var r=n(47586);t.Z=e=>{let{size:t=20,stroke:n="#999CA1",...a}=e;return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:(0,r.jsx)("path",{d:"M3 10H10M17 10H10M10 10V17M10 10V3",stroke:n,strokeWidth:"1.5",strokeLinecap:"round"})})}},89137:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(47586),a=n(28823),s=n(2319),o=n(41778),i=n(12305),m=n(80890),l=n(53173),c=n(86241),u=n(52138),d=n(10912),f=e=>{let{isBookmark:t,date:n,id:o,disabledEditor:i=!1}=e,[f,h]=(0,a.useState)(t),x=(0,m.b9)(l.P$);(0,a.useEffect)(()=>{h(t)},[t]);let k=async()=>{try{await (0,s.g)(Number(o))}catch(e){console.error("fail to bookmark memo",e)}},p=async()=>{await k(),h(e=>!e),x(e=>e.map(e=>e.id===o?{...e,isBookmark:!e.isBookmark}:e))};return(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsx)("p",{className:"font-body-12 text-text-neutral",children:(0,u.PK)(n)}),(i&&f||!i)&&(0,r.jsx)("button",{type:"button",onClick:async e=>{e.stopPropagation(),await p()},disabled:i,children:(0,r.jsx)(d.Z,{fill:f?c.Z.line.focus:"none",stroke:f?c.Z.line.focus:c.Z.text.neutral,className:i?"cursor-default":"cursor-pointer"})})]})},h=e=>{let{isBookmark:t=!1,title:n,memo:m,date:l,id:c,className:u,disabledEditor:d}=e,[h,x]=(0,a.useState)(!1),[k,p]=(0,a.useState)(null!=m?m:"");(0,a.useEffect)(()=>{p(null!=m?m:"")},[m]);let b=async e=>{try{await (0,s.y)({id:Number(c),content:e,isMarked:t})}catch(e){console.error("fail to update memo",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,o.cn)("w-[15.75rem] h-[8.75rem] rounded-lg pt-5 pr-4 pb-2.5 pl-5 flex flex-col gap-2.5 bg-surface-foreground",u),style:{boxShadow:"0px 8px 20px 0px #00000014, 0px 0px 2px 0px #0000000D"},onClick:()=>{x(!0)},children:[(0,r.jsxs)("div",{className:"w-full h-full pr-1 break-keep overflow-hidden whitespace-pre-wrap line-clamp-4",children:[!!n&&(0,r.jsx)("p",{className:"font-title-14 text-text-strong",children:n}),!!m&&(0,r.jsx)("p",{className:"font-body-14 text-text-strong",children:k})]}),(0,r.jsx)(f,{id:c,isBookmark:t,date:l,disabledEditor:d})]}),(0,r.jsx)(i.Z,{readonly:d,isOpen:h,onDismiss:()=>{x(!1)},onSaveText:async e=>{await b(e),p(e)},value:k,id:Number(c),lastUpdated:l,isBookmark:t})]})}},656:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});let r=(0,n(70140).cn)(!1)},86091:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(70140).cn)([])},31407:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});let r=(e,t)=>{let n=t.weekNumber.year-e.weekNumber.year,r=t.weekNumber.month-e.weekNumber.month,a=t.weekNumber.week-e.weekNumber.week;return n||r||a}},65492:function(e,t){"use strict";t.Z={src:"/_next/static/media/memo-empty.5dd44736.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEWdnaKYnZ+Xm5uYm6GYnKGZnKGeoaaYm5+Zm5+Zm6F7ISGyAAAACnRSTlMBJRFPzbqYPnN4rZpPqgAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAC1JREFUeJxVi8kJADAMw3zkaPdfuKS/6GGBQcDCnJW6xpQjD8GbYWquIr7ZO3wMlwBYxy8Y3gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[890,38,384,97,569,245,366,400,744],function(){return e(e.s=47210)}),_N_E=e.O()}]);