(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[167],{47210:function(e,t,n){Promise.resolve().then(n.bind(n,70404)),Promise.resolve().then(n.bind(n,1594))},12507:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(72330),a=n.n(r)},61621:function(e,t,n){"use strict";n.d(t,{default:function(){return a.a}});var r=n(95384),a=n.n(r)},69219:function(e,t,n){"use strict";var r=n(61128);n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}})},72330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{default:function(){return u},getImageProps:function(){return i}});let r=n(3397),a=n(90052),o=n(14569),s=r._(n(45074));function i(e){let{props:t}=(0,a.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(t))void 0===n&&delete t[e];return{props:t}}let u=o.Image},22933:function(e,t,n){"use strict";n.d(t,{h:function(){return a}});var r=n(18775);let a=async e=>{let{content:t,isMarked:n}=e;return await (0,r.QQ)("/memos",{content:t,isMarked:n})}},70404:function(e,t,n){"use strict";n.d(t,{default:function(){return w}});var r=n(47586),a=n(80890),o=n(61621),s=n(69219),i=n(28823),u=n(3855),l=n(22933),c=n(57882),m=n(54167),d=n(41778),f=e=>{let{initialState:t=!1,onChange:n}=e,[a,o]=(0,i.useState)(t);return(0,r.jsx)("button",{className:(0,d.cn)("w-[2.125rem] h-5 flex items-center rounded-2xl p-[0.188rem] cursor-pointer",a?"bg-surface-normal":"bg-surface-base"),onClick:()=>{o(e=>!e),null==n||n(!a)},type:"button",children:(0,r.jsx)("div",{className:(0,d.cn)("w-3.5 h-3.5 bg-surface-foreground rounded-full duration-300",a?"translate-x-[.9rem]":"translate-x-0")})})},p=n(656),h=n(86091),x=n(31407);let g=[{month:7,week:1,items:[{id:"memo-1",isBookmark:!1,title:"신규 서비스 개요",memo:"목표: 서비스 사용자 만족도 향상 및 체류 시간 증가\n주요 기능: 사용자 맞춤 추천, 실시간 알림 시스템, 사용자 피드백 통합",date:"7.22"},{id:"memo-2",isBookmark:!0,title:"리더님 피드백",memo:"유관 부서에 지표 리포트할 때 항상 엑셀 파일 첨부하기\n엑셀 제목은 데이터 날짜 항상 표기하기!",date:"7.24"},{id:"memo-3",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-4",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-5",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-6",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-7",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-8",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-9",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"},{id:"memo-10",isBookmark:!1,title:"8/6 동기들이랑 점심 식사",memo:"참여자: 봉주, 지선, 해람, 호, 유림",date:"7.25"}]},{month:6,week:4,items:[{id:"memo-11",isBookmark:!1,title:"신규 서비스 개요",memo:"목표: 서비스 사용자 만족도 향상 및 체류 시간 증가\n주요 기능: 사용자 맞춤 추천, 실시간 알림 시스템, 사용자 피드백 통합",date:"7.22"},{id:"memo-12",isBookmark:!0,title:"리더님 피드백",memo:"유관 부서에 지표 리포트할 때 항상 엑셀 파일 첨부하기\n엑셀 제목은 데이터 날짜 항상 표기하기!",date:"7.24"}]}],k=[{label:"회고",path:"/history/review"},{label:"메모",path:"/history/memo"}];var w=()=>{let e=(0,s.usePathname)(),[t,n]=(0,a.KO)(p.d),w=(0,a.b9)(h.Z),[F,b]=(0,i.useState)(!1),D=e=>Object.values(e.contents.reduce((e,t)=>{let{year:n,month:r,week:a}=t.weekNumber,o={id:t.id,content:t.content,isMarked:t.isMarked,updatedAt:t.updatedAt},s="".concat(n,"-").concat(r,"-").concat(a);return e[s]?e[s].memos.push(o):e[s]={weekNumber:t.weekNumber,memos:[o]},e},{})).sort(x.H),A=async e=>{try{await (0,l.h)({content:e,isMarked:!1})}catch(e){console.log("fail to add memo",e)}};return(0,r.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,r.jsxs)("div",{className:"flex items-center gap-5",children:[k.map(t=>(0,r.jsx)(o.default,{href:t.path,children:(0,r.jsx)("p",{className:(0,d.cn)("font-head-20",t.path===e?"text-text-strong":"text-text-neutral"),children:t.label})},t.path)),"/history/memo"===e&&g.length>0&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)("p",{className:"font-body-14 text-text-normal",children:"북마크만 보기"}),(0,r.jsx)(f,{initialState:t,onChange:n})]})]}),"/history/memo"===e&&(0,r.jsxs)("button",{type:"button",className:"button-primary button-medium",onClick:()=>b(!0),children:[(0,r.jsx)(c.Z,{size:20,stroke:"#fff"}),(0,r.jsx)("p",{className:"font-body-14 text-text-invert",children:"메모 추가"})]}),(0,r.jsx)(m.Z,{isOpen:F,onDismiss:()=>{b(!1)},onSaveText:async e=>{await A(e),w(D(await (0,u.r)({})))},value:""})]})}},1594:function(e,t,n){"use strict";n.d(t,{default:function(){return h}});var r=n(47586),a=n(80890),o=n(28823),s=n(3855),i=n(656),u=n(86091),l=n(31407),c=n(12507),m=n(65492),d=()=>(0,r.jsxs)("div",{className:"flex flex-col items-center gap-10 mt-[7rem]",children:[(0,r.jsx)("p",{className:"font-body-16 text-text-normal",children:"(스패너 나뒹구는 소리...텅 텅)"}),(0,r.jsx)(c.default,{src:m.Z,width:100,height:100,priority:!0,alt:"no-memo-history"})]}),f=n(14239),p=e=>{let{currentWeek:t,memos:n}=e;return(0,r.jsxs)("div",{className:"w-full flex flex-col gap-3",children:[(0,r.jsxs)("p",{className:"font-title-16 text-text-normal",children:[t.month,"월 ",t.week,"주"]}),(0,r.jsx)("div",{className:"grid gap-[15px] grid-cols-4",children:n.map(e=>(0,r.jsx)(f.Z,{id:String(e.id),memo:e.content,date:e.updatedAt,isBookmark:e.isMarked,className:"w-[229px] h-[10rem]"},e.id))})]},"".concat(t.year,"-").concat(t.month,"-").concat(t.week))},h=()=>{let e=(0,a.Dv)(i.d),[t,n]=(0,a.KO)(u.Z),[c,m]=(0,o.useState)([]),f=e=>Object.values(e.contents.reduce((e,t)=>{let{year:n,month:r,week:a}=t.weekNumber,o={id:t.id,content:t.content,isMarked:t.isMarked,updatedAt:t.updatedAt},s="".concat(n,"-").concat(r,"-").concat(a);return e[s]?e[s].memos.push(o):e[s]={weekNumber:t.weekNumber,memos:[o]},e},{})).sort(l.H),h=e=>e.map(e=>({weekNumber:e.weekNumber,memos:e.memos.filter(e=>e.isMarked)})).filter(e=>e.memos.length>0);return((0,o.useEffect)(()=>{(async()=>{n(f(await (0,s.r)({})))})()},[]),(0,o.useEffect)(()=>{e?m(h(t)):m(t)},[t,e]),0===t.length)?(0,r.jsx)(d,{}):(0,r.jsx)(r.Fragment,{children:c.map(e=>{let{weekNumber:t,memos:n}=e;return(0,r.jsx)(p,{currentWeek:t,memos:n},"".concat(t.year,"-").concat(t.month,"-").concat(t.week))})})}},53173:function(e,t,n){"use strict";n.d(t,{Ct:function(){return c},DP:function(){return a},DQ:function(){return o},GR:function(){return m},P$:function(){return w},bA:function(){return d},c6:function(){return u},cd:function(){return i},gV:function(){return f},jI:function(){return x},pj:function(){return s},r3:function(){return g},vS:function(){return k},y9:function(){return p},yX:function(){return l},zs:function(){return h}});var r=n(70140);let a=(0,r.cn)(0),o=(0,r.cn)(0),s=(0,r.cn)(1),i=(0,r.cn)({step1:!1,step2:!1,step3:!1}),u=(0,r.cn)({step1:!1,step2:!1,step3:!1}),l=(0,r.cn)([]),c=(0,r.cn)([]),m=(0,r.cn)([]),d=(0,r.cn)([]),f=(0,r.cn)([]),p=(0,r.cn)([]),h=(0,r.cn)([]),x=(0,r.cn)([]),g=(0,r.cn)([]),k=(0,r.cn)([]),w=(0,r.cn)([])},57882:function(e,t,n){"use strict";var r=n(47586);t.Z=e=>{let{size:t=20,stroke:n="#999CA1",...a}=e;return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:(0,r.jsx)("path",{d:"M3 10H10M17 10H10M10 10V17M10 10V3",stroke:n,strokeWidth:"1.5",strokeLinecap:"round"})})}},14239:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(47586),a=n(28823),o=n(18775);let s=async e=>await (0,o.vx)("/memos/bookmark",{id:e}),i=async e=>{let{id:t,content:n,isMarked:r}=e;return await (0,o.vx)("/memos/".concat(t),{content:n,isMarked:r})};var u=n(41778),l=n(54167),c=n(80890),m=n(53173),d=n(86241),f=n(47613),p=e=>{let{size:t=20,stroke:n="#999CA1",fill:a="none",...o}=e;return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:a,xmlns:"http://www.w3.org/2000/svg",...o,children:(0,r.jsx)("path",{d:"M5 5C5 4.44772 5.44772 4 6 4H14C14.5523 4 15 4.44772 15 5V15.7962C15 16.6554 13.9881 17.1146 13.3415 16.5488L10.6585 14.2012C10.2815 13.8713 9.71852 13.8713 9.3415 14.2012L6.6585 16.5488C6.01192 17.1146 5 16.6554 5 15.7962V5Z",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},h=e=>{let{isBookmark:t,date:n,id:o}=e,[i,u]=(0,a.useState)(t),l=(0,c.b9)(m.P$);(0,a.useEffect)(()=>{u(t)},[t]);let h=async()=>{try{await s(Number(o))}catch(e){console.error("fail to bookmark memo",e)}},x=async()=>{await h(),u(e=>!e),l(e=>e.map(e=>e.id===o?{...e,isBookmark:!e.isBookmark}:e))};return(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsx)("p",{className:"font-body-12 text-text-neutral",children:(0,f.PK)(n)}),(0,r.jsx)("button",{type:"button",onClick:async e=>{e.stopPropagation(),await x()},children:(0,r.jsx)(p,{fill:i?d.Z.line.focus:"none",stroke:i?d.Z.line.focus:d.Z.text.neutral,className:"cursor-pointer"})})]})},x=e=>{let{isBookmark:t=!1,title:n,memo:o,date:s,id:c,className:m,disabledEditor:d}=e,[f,p]=(0,a.useState)(!1),[x,g]=(0,a.useState)(null!=o?o:""),k=async e=>{try{await i({id:Number(c),content:e,isMarked:t})}catch(e){console.error("fail to update memo",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,u.cn)("w-[15.75rem] h-[8.75rem] rounded-lg pt-5 pr-4 pb-2.5 pl-5 flex flex-col gap-2.5 bg-surface-foreground",m),style:{boxShadow:"0px 8px 20px 0px #00000014, 0px 0px 2px 0px #0000000D"},onClick:()=>{p(!0)},children:[(0,r.jsxs)("div",{className:"w-full h-full pr-1 break-keep overflow-hidden whitespace-pre-wrap line-clamp-4",children:[!!n&&(0,r.jsx)("p",{className:"font-title-14 text-text-strong",children:n}),!!o&&(0,r.jsx)("p",{className:"font-body-14 text-text-strong",dangerouslySetInnerHTML:{__html:x}})]}),(0,r.jsx)(h,{id:c,isBookmark:t,date:s})]}),(0,r.jsx)(l.Z,{disabledEditor:d,isOpen:f,onDismiss:()=>{p(!1)},onSaveText:async e=>{await k(e),g(e)},value:x})]})}},656:function(e,t,n){"use strict";n.d(t,{d:function(){return r}});let r=(0,n(70140).cn)(!1)},86091:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(70140).cn)([])},86241:function(e,t){"use strict";t.Z={neutral:{95:"#1C1D1E",90:"#292A2D",80:"#4D4F52",70:"#66696E",60:"#808389",50:"#999CA1",40:"#B3B5B8",30:"#CECECE",20:"#E1E1E1",10:"#EFEFEF",white:"#FFFFFF"},red:{90:"#451305",80:"#7F270F",70:"#C02C02",60:"#E33302",50:"#FF3D0D",40:"#FF5C37",30:"#FF8A70",20:"#FFB8A9",10:"#FFDDD4",5:"#FFF2EF"},green:{90:"#1C4B00",80:"#245F00",70:"#348700",60:"#43B000",50:"#5FD915",40:"#7FFF30",30:"#ADFF7B",20:"#C4FFA0",10:"#DBFFC5",5:"#F2FFEA"},transparent:"transparent",text:{strong:"#292A2D",normal:"#66696E",neutral:"#999CA1",assistive:"#CECECE",invert:"#FFFFFF",primary:"#FF3D0D"},surface:{foreground:"#FFFFFF",foregroundOn:"#F7F7F7",background:"#EFEFEF",base:"#E1E1E1",accent:"#999CA1",alternative:"#4D4F52",invert:"#1C1D1E",strong:"#E33302",normal:"#FF3D0D",light:"#FFDDD4",blank:"transparent",dimmer:"#00000080",assistive:"#00000014"},line:{normal:"#CECECE",normalHover:"#B3B5B8",assistive:"#EFEFEF",focus:"#FF5C37"},button:{primary:"#1C1D1E",primaryHover:"#4D4F52",secondary:"#E1E1E1",secondaryHover:"#CECECE",disabled:"#F7F7F7"},state:{positive:"#43B000",caution:"#FFD02A",negative:"#E20000"}}},31407:function(e,t,n){"use strict";n.d(t,{H:function(){return r}});let r=(e,t)=>{let n=t.weekNumber.year-e.weekNumber.year,r=t.weekNumber.month-e.weekNumber.month,a=t.weekNumber.week-e.weekNumber.week;return n||r||a}},47613:function(e,t,n){"use strict";n.d(t,{_y:function(){return u},PK:function(){return m},eQ:function(){return l},lE:function(){return c}});var r=n(20117);let a=e=>{let t=null!=e?e:new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=0===n.getDay()?7:n.getDay();n.setDate(n.getDate()+(4-r));let a=new Date(n.getFullYear(),n.getMonth(),1),o=0===a.getDay()?7:a.getDay(),s=new Date(a.setDate(a.getDate()+((o<=4?1:8)-o))),i=Math.floor((n.getTime()-s.getTime())/864e5);return{year:n.getFullYear(),month:n.getMonth()+1,week:Math.floor(i/7)+1}},o=e=>{let{year:t,month:n}=e,a=function(e){let t=(0,r.Q)(e);return t.setDate(1),t.setHours(0,0,0,0),t}(new Date(t,n-1)),o=function(e){let t=(0,r.Q)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(a);return(function(e,t){let n=(0,r.Q)(e.start),a=(0,r.Q)(e.end),o=+n>+a,s=o?+n:+a,i=o?a:n;i.setHours(0,0,0,0);let u=1;u<0&&(u=-u,o=!o);let l=[];for(;+i<=s;)l.push((0,r.Q)(i)),i.setDate(i.getDate()+u),i.setHours(0,0,0,0);return o?l.reverse():l})({start:a,end:o}).filter(e=>4===(0,r.Q)(e).getDay()).length},s=e=>{let t=null!=e?e:new Date,n=0===t.getDay()?6:Math.abs(t.getDay()-1),r=new Date;r.setTime(r.getTime()+324e5),r.setDate(r.getDate()-n);let[a,o,s]=r.toISOString().split("T")[0].split("-");return{startDate:r,startYear:a,startMonth:o,startDay:s}},i=e=>{let{startDate:t}=s(null!=e?e:new Date),n=new Date;n.setTime(n.getTime()+324e5),n.setDate(t.getDate()+6);let[r,a,o]=n.toISOString().split("T")[0].split("-");return{endDate:n,endYear:r,endMonth:a,endDay:o}},u=e=>{let{year:t,month:n,week:r}=a(null!=e?e:new Date),u=o({year:t,month:n}),{startDate:l,startYear:c,startMonth:m,startDay:d}=s(e),{endDate:f,endYear:p,endMonth:h,endDay:x}=i(e);return{year:t,month:n,week:r,totalWeek:u,startDate:l,startYear:c,startMonth:m,startDay:d,endDate:f,endYear:p,endMonth:h,endDay:x}},l=e=>{let{endDate:t}=u(null!=e?e:new Date),n=new Date;n.setDate(t.getDate()+1);let{year:r,month:o,week:s}=a(n);return{nextYear:r,nextMonth:o,nextWeek:s}},c=e=>{let{startDate:t}=u(null!=e?e:new Date),n=new Date;n.setDate(t.getDate()-1);let{year:r,month:o,week:s}=a(n);return{prevYear:r,prevMonth:o,prevWeek:s}},m=e=>{let[t]=e.split(" "),[,n,r]=t.split("-");return"".concat(n,".").concat(r)}},65492:function(e,t){"use strict";t.Z={src:"/_next/static/media/memo-empty.ae5a8e65.png",height:100,width:100,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEVMaXGaoKOZmp+bm5+ZnKGZm6GZnKCdoKaZm6Gcn6SxmOBGAAAACnRSTlMACyoexER1n1qTClRl0AAAAAlwSFlzAAALEwAACxMBAJqcGAAAAC9JREFUeJxNi7kRADAIw2TAefZfOEcq3KiQDGPC8SlfBClXrSRW1cnsYEcLCM8jPA5+AGSX24bZAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8}},20117:function(e,t,n){"use strict";function r(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}n.d(t,{Q:function(){return r}})}},function(e){e.O(0,[116,990,796,890,38,97,384,569,891,500,366,400,744],function(){return e(e.s=47210)}),_N_E=e.O()}]);