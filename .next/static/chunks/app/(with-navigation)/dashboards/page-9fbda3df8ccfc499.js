(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[781],{11827:function(e,t,s){Promise.resolve().then(s.bind(s,89043))},12507:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var n=s(72330),r=s.n(n)},61621:function(e,t,s){"use strict";s.d(t,{default:function(){return r.a}});var n=s(95384),r=s.n(n)},69219:function(e,t,s){"use strict";var n=s(61128);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}})},72330:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return o},getImageProps:function(){return l}});let n=s(3397),r=s(90052),a=s(14569),i=n._(s(45074));function l(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let o=a.Image},22933:function(e,t,s){"use strict";s.d(t,{h:function(){return r}});var n=s(18775);let r=async e=>{let{content:t,isMarked:s}=e;return await (0,n.QQ)("/memos",{content:t,isMarked:s})}},33796:function(e,t,s){"use strict";s.d(t,{LC:function(){return l},_Y:function(){return a},nv:function(){return i},t_:function(){return r}});var n=s(18775);let r=async()=>await (0,n.bN)("/reviews/page"),a=async e=>{let{year:t,month:s,week:r}=e;return await (0,n.bN)("/highlights",{params:{year:t,month:s,week:r}})},i=async e=>{let{year:t,month:s,week:r}=e;return await (0,n.bN)("/lowlights",{params:{year:t,month:s,week:r}})},l=async e=>{let{year:t,month:s,week:r}=e;return await (0,n.bN)("/todos",{params:{year:t,month:s,week:r}})}},42988:function(e,t,s){"use strict";s.d(t,{a:function(){return r}});var n=s(18775);let r=async e=>await (0,n.GZ)("/todos",{params:{ids:e.join(",")}})},89043:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return X}});var n=s(47586),r=s(80890),a=s(61621),i=s(28823),l=s(18775);let o=async e=>{let{year:t,month:s,week:n}=e;return await (0,l.bN)("/dashboard",{params:{year:t,month:s,week:n}})};var c=s(53173),d=s(96181),u=s(95750),h=s(12507),x=s(3855),m=s(22933),f=s(65492),g=s(57882),p=s(89137),w=s(80313),b=s(29335),j=()=>{let[e,t]=(0,i.useState)(!1),[s,a]=(0,r.KO)(c.P$),l=(0,r.Dv)(u.C),{addToast:o}=(0,b.Z)(),d=async e=>{let{year:t,month:s,week:n}=e;a((await (0,x.k)({year:t,month:s,week:n})).memos.map(e=>({id:String(e.id),isBookmark:e.isMarked,memo:e.content,date:e.updatedAt})))};(0,i.useEffect)(()=>{(async()=>{await d(l)})()},[l]);let j=async e=>{try{await (0,m.h)({content:e,isMarked:!1})}catch(e){console.log("fail to add memo",e)}},y=async e=>{await j(e),await d(l),o({iconType:"success",message:"이번 주 메모에 추가되었습니다"})};return(0,n.jsxs)("section",{className:"shrink-0 min-w-[252px]",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsx)("p",{className:"font-title-16 text-text-strong",children:"이번 주 메모"}),(0,n.jsxs)("button",{className:"button-line button-small h-8",onClick:()=>t(!0),children:[(0,n.jsx)(g.Z,{size:20}),(0,n.jsx)("p",{className:"font-body-13 text-text-strong",children:"추가"})]})]}),s.length>0?(0,n.jsx)("div",{className:"flex flex-col gap-3 mt-4",children:s.map((e,t)=>(0,n.jsx)(p.Z,{id:e.id,title:e.title,memo:e.memo,date:e.date,isBookmark:e.isBookmark},t))}):(0,n.jsxs)("div",{className:"w-[15.75rem] flex items-center flex-col gap-5 mt-[3.75rem]",children:[(0,n.jsx)("p",{className:"font-body-16 text-text-normal",children:"번뜩이는 아이디어는 메모에 남겨봐요."}),(0,n.jsx)(h.default,{src:f.Z,width:100,height:100,alt:"no memo"})]}),(0,n.jsx)(w.Z,{isOpen:e,onDismiss:()=>{t(!1)},onSaveText:y,value:""})]})},y=e=>{let{size:t=20,...s}=e;return(0,n.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M24.9761 8.85588C25.3033 11.0391 25.6833 12.2887 24.1217 12.2887C21.9969 12.2887 21.9961 7.25988 18.4001 4.39508C14.8425 1.56148 12.1889 2.25028 12.1329 2.26548C12.1321 2.26628 12.1305 2.26788 12.1297 2.26868C15.0929 4.74228 13.4401 8.80788 11.5009 9.92868C9.64009 11.0039 7.51609 9.64788 8.62809 6.45668C6.18249 9.80068 4.07129 13.8527 4.07129 17.8903C4.07129 24.4783 9.41209 29.8191 16.0001 29.8191C22.5881 29.8191 27.9289 24.4783 27.9289 17.8903C27.9289 14.7775 26.6713 11.6559 24.9761 8.85588Z",fill:"#FF723E"}),(0,n.jsx)("path",{d:"M16.0001 16.0146C16.0001 16.0146 21.1873 19.0018 21.1873 23.1754C21.1873 26.0402 18.8649 28.3626 16.0001 28.3626C13.1353 28.3626 10.8129 26.0402 10.8129 23.1754C10.8129 19.0018 16.0001 16.0146 16.0001 16.0146Z",fill:"#FFEFEB"})]})},A=e=>{let{size:t=20,...s}=e;return(0,n.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M11.2672 12.8664C9.30961 12.9768 7.35201 12.7568 5.39441 11.8752C5.39441 9.91764 5.39441 7.96004 5.39441 6.00244C7.35201 6.88324 9.30961 7.10404 11.2672 6.99364C11.2672 8.95124 11.2672 10.9088 11.2672 12.8664Z",fill:"#3D3D3D"}),(0,n.jsx)("path",{d:"M17.1401 11.8752C15.1825 12.316 13.2249 12.756 11.2673 12.8664C11.2673 10.9088 11.2673 8.95124 11.2673 6.99364C13.2249 6.88404 15.1825 6.44324 17.1401 6.00244V11.8752Z",fill:"#E3E3E3"}),(0,n.jsx)("path",{d:"M23.0127 10.884C21.0551 10.9944 19.0975 11.4344 17.1399 11.8752V6.00243C19.0975 5.56243 21.0551 5.12163 23.0127 5.01123V10.884Z",fill:"#3D3D3D"}),(0,n.jsx)("path",{d:"M28.8856 11.8755C26.928 10.9947 24.9704 10.7747 23.0128 10.8843V5.01152C24.8048 4.91072 26.5968 5.08672 28.388 5.79232C28.6904 5.91152 28.8856 6.21472 28.8856 6.53952V11.8755Z",fill:"#E3E3E3"}),(0,n.jsx)("path",{d:"M11.2672 18.7395C9.30961 18.8499 7.35201 18.6291 5.39441 17.7483C5.39441 15.7907 5.39441 13.8331 5.39441 11.8755C7.35201 12.7563 9.30961 12.9763 11.2672 12.8667C11.2672 14.8243 11.2672 16.7819 11.2672 18.7395Z",fill:"#E3E3E3"}),(0,n.jsx)("path",{d:"M17.1401 17.7483C15.1825 18.1891 13.2249 18.6291 11.2673 18.7395C11.2673 16.7819 11.2673 14.8243 11.2673 12.8667C13.2249 12.7563 15.1825 12.3163 17.1401 11.8755V17.7483Z",fill:"#3D3D3D"}),(0,n.jsx)("path",{d:"M23.0127 16.7566C21.0551 16.867 19.0975 17.3078 17.1399 17.7478V11.875C19.0975 11.435 21.0551 10.9942 23.0127 10.8838V16.7566Z",fill:"#E3E3E3"}),(0,n.jsx)("path",{d:"M28.8856 17.7482C26.928 16.8674 24.9704 16.6474 23.0128 16.757V10.8842C24.9704 10.7738 26.928 10.9946 28.8856 11.8754V17.7482Z",fill:"#3D3D3D"}),(0,n.jsx)("path",{d:"M11.2672 24.612C9.30961 24.7224 7.35201 24.5016 5.39441 23.6208C5.39441 21.6632 5.39441 19.7056 5.39441 17.748C7.35201 18.6288 9.30961 18.8488 11.2672 18.7392C11.2672 20.6968 11.2672 22.6544 11.2672 24.612Z",fill:"#3D3D3D"}),(0,n.jsx)("path",{d:"M17.1401 23.6208C15.1825 24.0616 13.2249 24.5016 11.2673 24.612C11.2673 22.6544 11.2673 20.6968 11.2673 18.7392C13.2249 18.6288 15.1825 18.188 17.1401 17.748V23.6208Z",fill:"#E3E3E3"}),(0,n.jsx)("path",{d:"M23.0127 22.6296C21.0551 22.74 19.0975 23.18 17.1399 23.6208V17.748C19.0975 17.3072 21.0551 16.8672 23.0127 16.7568V22.6296Z",fill:"#3D3D3D"}),(0,n.jsx)("path",{d:"M27.8352 23.21C26.228 22.6724 24.62 22.5396 23.0128 22.63V16.7572C24.9704 16.6468 26.928 16.8676 28.8856 17.7484V22.4572C28.8856 23.002 28.352 23.3828 27.8352 23.21Z",fill:"#E3E3E3"}),(0,n.jsx)("path",{d:"M4.71443 28.6704C4.27203 28.6704 3.91443 28.3128 3.91443 27.8704V4.12959C3.91443 3.68719 4.27203 3.32959 4.71443 3.32959C5.15683 3.32959 5.51443 3.68719 5.51443 4.12959V27.8704C5.51443 28.3128 5.15683 28.6704 4.71443 28.6704Z",fill:"#3D3D3D"})]})},v=e=>{let{size:t=20,...s}=e;return(0,n.jsxs)("svg",{width:t,height:t,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...s,children:[(0,n.jsx)("path",{d:"M4.00012 9L26.8406 7.17276C28.0044 7.07966 29.0001 7.99894 29.0001 9.16639V24.1536C29.0001 25.1963 28.199 26.0641 27.1596 26.1472L6.15961 27.8272C4.99588 27.9203 4.00012 27.0011 4.00012 25.8336V9Z",fill:"#FFC33A"}),(0,n.jsx)("path",{d:"M4.00012 6.84027C4.00012 5.80009 4.79745 4.93356 5.83403 4.84717L14.306 4.14117C15.2828 4.05977 16.1747 4.69828 16.4124 5.64919L17.0001 8L4.00012 9V6.84027Z",fill:"#FFA300"})]})},C=s(663),k=e=>{let{weekStreak:t,reviewCount:s,projectCount:r}=e;return(0,n.jsxs)("section",{className:"flex gap-3 w-full mb-7",children:[(0,n.jsx)(a.default,{href:"/history",children:(0,n.jsxs)("div",{className:"w-[19.5rem] pl-10 h-20 rounded-xl bg-surface-foregroundOn flex items-center gap-4",children:[(0,n.jsx)(y,{size:32}),(0,n.jsxs)("p",{className:"font-body-16 text-text-strong flex items-center",children:[(0,n.jsx)("b",{className:"font-chakra font-semibold italic mr-1.5 text-2xl",children:(0,C.K)(t,2)}),"주 연속 회고"]})]})}),(0,n.jsx)(a.default,{href:"/history",children:(0,n.jsxs)("div",{className:"w-[19.5rem] pl-10 h-20 rounded-xl bg-surface-foregroundOn flex items-center gap-4",children:[(0,n.jsx)(A,{size:32}),(0,n.jsxs)("p",{className:"font-body-16 text-text-strong flex items-center",children:[(0,n.jsx)("span",{className:"font-chakra font-semibold italic mr-1.5 text-2xl",children:(0,C.K)(s,2)}),"개 회고 기록"]})]})}),(0,n.jsx)(a.default,{href:"/project",children:(0,n.jsxs)("div",{className:"w-[19.5rem] pl-10 h-20 rounded-xl bg-surface-foregroundOn flex items-center gap-4",children:[(0,n.jsx)(v,{size:32}),(0,n.jsxs)("p",{className:"font-body-16 text-text-strong flex items-center",children:[(0,n.jsx)("span",{className:"font-chakra font-semibold italic mr-1.5 text-2xl",children:(0,C.K)(r,2)}),"개 프로젝트"]})]})})]})},N={src:"/_next/static/media/sign-up-success.706442a5.png",height:344,width:684,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAJ1BMVEV8fXx4eXlNUFNtbW42NDFLST5dQz56XT1ZXmBmUDqjQDhdU1VuXV+CmoMdAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAJklEQVR4nAXBgQEAIAjDsG6AiPr/vSZI4VkbiOrzAFxzhYlMS84PCPgAd/gjPiEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:4},D=s(6557),E=s(54712);let Z=()=>{let[e,t]=(0,r.KO)(E.W);return e?(0,n.jsx)(D.Z,{isOpen:e,children:(0,n.jsxs)("div",{className:"flex flex-col items-center relative overflow-hidden rounded-[20px]",children:[(0,n.jsx)(h.default,{src:N,width:342,height:172,alt:"no-memo-history"}),(0,n.jsxs)("div",{className:"mt-6 mb-2 flex flex-col items-center font-head-20 text-text-strong",children:[(0,n.jsx)("strong",{style:{fontWeight:600},children:"매주 금요일 13시!"}),(0,n.jsx)("p",{style:{fontWeight:400},children:"회고 메일을 보내드릴게요"})]}),(0,n.jsx)("p",{className:"mb-5 font-body-14 text-text-strong",children:"피트스탑과 함께 성공적인 한주를 이뤄봐요\uD83D\uDC4D"}),(0,n.jsx)("button",{className:"mb-7 button-primary button-large",onClick:()=>t(!1),children:"시작하기"})]})}):null},M=async e=>{let{weekNumber:t,contents:s}=e;return await (0,l.QQ)("/todos",{weekNumber:t,contents:s})},S=async e=>await (0,l.vx)("/todos",e);var V=s(33796),B=s(42988),L={src:"/_next/static/media/todo-empty.c71a7f30.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAALVBMVEWgoKCZnKGVmp+Tk5mho6iZnKGcoKWZnaO/wcW+wcOTnJyhpKnv7/Dc3d+qrbGBb2+/AAAAC3RSTlMB/DIIQKqUV3+WGoLA7HgAAAAJcEhZcwAAFiUAABYlAUlSJPAAAAA4SURBVHicTctBDoAwEMNAJ7tQIND/PxdVXLhZGhnc7QJ6ShnA8UjZgfOWsv3jI1/0TDKqKNtrfwEoywEug+w3VQAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},T=s(22292),O=s(74638),U=s(22668),_=()=>{let[e,t]=(0,i.useState)([]),[s,a]=(0,i.useState)(!1),[l,o]=(0,i.useState)(!1),[c,d]=(0,i.useState)(-1),{year:x,month:m,week:f}=(0,r.Dv)(u.C),{addToast:p}=(0,b.Z)();(0,i.useEffect)(()=>{w({year:x,month:m,week:f})},[x,m,f]);let w=async e=>{let{year:s,month:n,week:r}=e;t((await (0,V.LC)({year:s,month:n,week:r})).todos)},j=async t=>{let s=e.map(e=>e.id===t?{...e,status:"DONE"===e.status?"ONGOING":"DONE"}:e);try{await S(s),await w({year:x,month:m,week:f})}catch(e){console.error("fail to change checkbox",e)}},y=async()=>{try{await M({weekNumber:{year:x,month:m,week:f},contents:e.filter(e=>e.id<1).map(e=>({content:e.content}))}),await w({year:x,month:m,week:f})}catch(e){console.error("fail to add todos",e)}},A=async()=>{try{await S(e)}catch(e){console.error("fail to edit todos",e)}},v=async e=>{try{await (0,B.a)([String(e)]),t(e=>e.filter(e=>e.id!==c)),o(!1)}catch(e){console.error("fail to delete todo",e)}},C=(e,s)=>{if(e.length>54){p({iconType:"error",message:"최대 글자수를 초과했습니다."});return}t(t=>t.map(t=>t.id===s.id?{...t,content:e}:t))};return(0,n.jsxs)("section",{className:"w-full",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsx)("p",{className:"font-title-16 text-text-strong",children:"이번 주 할 일"}),(0,n.jsxs)("button",{className:"button-line button-small",onClick:()=>{a(!0),t(e=>[...e,{id:.9*Math.random(),content:"",status:"ONGOING"}])},children:[(0,n.jsx)(g.Z,{size:20}),(0,n.jsx)("p",{className:"font-body-13 text-text-strong",children:"추가"})]})]}),e.length>0?(0,n.jsx)("div",{className:"flex flex-col gap-3 mt-4",children:e.map((e,t)=>(0,n.jsx)(O.Z,{id:e.id,value:e.content,placeholder:"할 일을 입력해 주세요",checked:"DONE"===e.status,maxLength:55,onChange:t=>C(t,e),onClickCheckbox:()=>j(e.id),buttons:(0,n.jsx)("button",{onClick:()=>{d(e.id),o(!0)},children:(0,n.jsx)(T.Z,{size:20})}),onBlur:async()=>{s?(await y(),a(!1)):await A()}},t))}):(0,n.jsxs)("div",{className:"w-full flex items-center flex-col gap-5 mt-[3.75rem]",children:[(0,n.jsx)("p",{className:"font-body-16 text-text-normal",children:"할 일을 한곳에 기록해두고 필요할 때 찾아봐요!"}),(0,n.jsx)(h.default,{src:L,width:100,height:100,alt:"no memo"})]}),(0,n.jsx)(U.Z,{isOpen:l,onDismiss:()=>o(!1),title:"정말로 삭제하시겠어요?",buttons:{left:{text:"취소",className:"button-secondary button-medium font-body-14 text-text-strong"},right:{text:"확인",className:"button-primary button-medium font-body-14 text-text-invert",onClick:async()=>{await v(c)}}}})]})},F=s(20117);function I(e){return(0,F.Q)(e).getDay()}var K=s(2075);function Q(e,t){let s=(0,F.Q)(e);return isNaN(t)?(0,K.L)(e,NaN):(t&&s.setDate(s.getDate()+t),s)}var G=e=>{let{size:t=20,stroke:s="#999CA1",...r}=e;return(0,n.jsx)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:(0,n.jsx)("path",{d:"M12.5 16.5L5.5 9.5L12.5 2.5",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},P=e=>{let{size:t=20,stroke:s="#999CA1",...r}=e;return(0,n.jsx)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:(0,n.jsx)("path",{d:"M7.5 3.5L14.5 10.5L7.5 17.5",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},W=s(52138);let{year:z,month:R,week:J}=(0,W._y)();var Y=()=>{let[e,t]=(0,r.KO)(u.C),s=(0,i.useMemo)(()=>e.year===z&&e.month===R&&e.week===J,[e]);return(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)("p",{className:"font-head-20 text-text-strong",children:[e.month,"월 ",e.week,"주차 레이스"]}),(0,n.jsxs)("div",{className:"flex gap-1.5 items-center",children:[(0,n.jsx)("button",{type:"button",className:"bg-surface-foreground w-7 h-7 rounded-md flex items-center justify-center disabled:bg-surface-foregroundOn",onClick:()=>{var s,n;let r;let a=(s=new Date(e.year,e.month-1,e.date),n=e.day,(r=I(s)-n)<=0&&(r+=7),Q(s,-r)),{week:i}=(0,W._y)(a);t({year:a.getFullYear(),month:a.getMonth()+1,week:i,date:a.getDate(),day:a.getDay()})},disabled:2024===e.year&&1===e.month&&1===e.week,children:(0,n.jsx)(G,{size:20})}),(0,n.jsx)("button",{type:"button",className:"bg-surface-foreground w-7 h-7 rounded-md flex items-center justify-center disabled:bg-surface-foregroundOn",onClick:()=>{var s;let n;let r=(s=new Date(e.year,e.month-1,e.date),(n=e.day-I(s))<=0&&(n+=7),Q(s,n)),{week:a}=(0,W._y)(r);t({year:r.getFullYear(),month:r.getMonth()+1,week:a,date:r.getDate(),day:r.getDay()})},disabled:s,children:(0,n.jsx)(P,{size:20})}),(0,n.jsx)("button",{type:"button",className:"button-line button-small ml-1",onClick:()=>{let e=new Date;t({year:z,month:R,week:J,date:e.getDate(),day:0===e.getDay()?e.getDay():4})},disabled:s,children:"이번주"})]})]})};function X(){let e=(0,r.b9)(c.GR),t=(0,r.Dv)(u.C),{userExpired:s}=(0,d.a)(),[l,h]=(0,i.useState)();(0,i.useEffect)(()=>{x({year:t.year,month:t.month,week:t.week})},[t]);let x=async e=>{let{year:t,month:n,week:r}=e;try{let e=await o({year:t,month:n,week:r});h(e),m(e.todos)}catch(e){s(e)}},m=t=>{e(t.map(e=>({week:"current",isChecked:!1,todo:e.content,id:e.id,isMoved:!1})))};return l?(0,n.jsxs)("div",{children:[(0,n.jsx)(k,{weekStreak:l.laps,reviewCount:l.reviewCount,projectCount:l.projectCount}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsxs)("section",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)(Y,{}),(0,n.jsx)(a.default,{href:"/review",children:(0,n.jsx)("button",{className:"button-primary button-large",children:"회고하기"})})]}),(0,n.jsxs)("div",{className:"flex gap-9",children:[(0,n.jsx)(_,{}),(0,n.jsx)(j,{})]})]}),(0,n.jsx)(Z,{})]}):(0,n.jsx)("div",{children:"loading..."})}},57882:function(e,t,s){"use strict";var n=s(47586);t.Z=e=>{let{size:t=20,stroke:s="#999CA1",...r}=e;return(0,n.jsx)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...r,children:(0,n.jsx)("path",{d:"M3 10H10M17 10H10M10 10V17M10 10V3",stroke:s,strokeWidth:"1.5",strokeLinecap:"round"})})}},74638:function(e,t,s){"use strict";s.d(t,{Z:function(){return o}});var n=s(47586),r=s(28823),a=e=>{let{size:t=20,stroke:s="white",fill:r="#FF5C37",...a}=e;return(0,n.jsxs)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...a,children:[(0,n.jsx)("rect",{width:t,height:t,rx:"4",fill:r}),(0,n.jsx)("path",{d:"M5.5 10L9 14L15 6.5",stroke:s,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})},i=s(86241),l=s(41778),o=(0,r.memo)(e=>{let{value:t,placeholder:s,onChange:o,checked:u,onClickCheckbox:h,onBlur:x,width:m,buttons:f,category:g="dashboard",maxLength:p,id:w}=e,b=(0,r.useRef)(null),[j,y]=(0,r.useState)(!1),[A,v]=(0,r.useState)(!1),C="dashboard"===g&&j&&!A||"review"===g&&!A;return(0,n.jsxs)("div",{className:(0,l.cn)(d.default,"dashboard"===g&&d.dashboard,"dashboard"===g&&A&&d.dashboardEditing,"review"===g&&d.review,"review"===g&&A&&d.reviewEditing),style:{width:null!=m?m:"100%",boxShadow:"dashboard"===g?"0px 4px 12px 0px rgba(0, 0, 0, 0.08)":"none"},onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[(0,n.jsx)("button",{type:"button",onClick:h,children:u?(0,n.jsx)(a,{size:20}):(0,n.jsx)(c,{})}),(0,n.jsx)("input",{ref:b,type:"text",className:"w-full font-body-16 outline-none bg-transparent",value:t,placeholder:s,onChange:e=>null==o?void 0:o(e.currentTarget.value),style:{color:u?i.Z.text.normal:i.Z.text.strong},onFocus:()=>v(!0),onBlur:()=>{v(!1),null==x||x()},onKeyDown:e=>{var t,s;e.nativeEvent.isComposing||("Enter"===e.key&&(null===(t=b.current)||void 0===t||t.blur()),"Escape"===e.key&&(null===(s=b.current)||void 0===s||s.blur()))},maxLength:p,autoFocus:!!w&&w<1})]}),C&&f]})});let c=()=>(0,n.jsx)("div",{className:"w-5 h-5 rounded border-[1.5px] border-text-assistive bg-surface-foreground"}),d={default:"px-3 py-3.5 flex items-center justify-between h-12 focus-within:outline-none cursor-pointer",dashboard:"rounded-lg bg-surface-foreground hover:bg-surface-assistive",dashboardEditing:"border border-text-primary hover:bg-surface-foreground",review:"bg-transparent box-border border-b border-transparent",reviewEditing:"border-b border-text-primary"}},89137:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var n=s(47586),r=s(28823),a=s(2319),i=s(41778),l=s(80313),o=s(80890),c=s(53173),d=s(86241),u=s(52138),h=s(10912),x=e=>{let{isBookmark:t,date:s,id:i,disabledEditor:l=!1}=e,[x,m]=(0,r.useState)(t),f=(0,o.b9)(c.P$);(0,r.useEffect)(()=>{m(t)},[t]);let g=async()=>{try{await (0,a.g)(Number(i))}catch(e){console.error("fail to bookmark memo",e)}},p=async()=>{await g(),m(e=>!e),f(e=>e.map(e=>e.id===i?{...e,isBookmark:!e.isBookmark}:e))};return(0,n.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,n.jsx)("p",{className:"font-body-12 text-text-neutral",children:(0,u.PK)(s)}),(l&&x||!l)&&(0,n.jsx)("button",{type:"button",onClick:async e=>{e.stopPropagation(),await p()},disabled:l,children:(0,n.jsx)(h.Z,{fill:x?d.Z.line.focus:"none",stroke:x?d.Z.line.focus:d.Z.text.neutral,className:l?"cursor-default":"cursor-pointer"})})]})},m=e=>{let{isBookmark:t=!1,title:s,memo:o,date:c,id:d,className:u,disabledEditor:h}=e,[m,f]=(0,r.useState)(!1),[g,p]=(0,r.useState)(null!=o?o:"");(0,r.useEffect)(()=>{p(null!=o?o:"")},[o]);let w=async e=>{try{await (0,a.y)({id:Number(d),content:e,isMarked:t})}catch(e){console.error("fail to update memo",e)}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,i.cn)("w-[15.75rem] h-[8.75rem] rounded-lg pt-5 pr-4 pb-2.5 pl-5 flex flex-col gap-2.5 bg-surface-foreground",u),style:{boxShadow:"0px 8px 20px 0px #00000014, 0px 0px 2px 0px #0000000D"},onClick:()=>{f(!0)},children:[(0,n.jsxs)("div",{className:"w-full h-full pr-1 break-keep overflow-hidden whitespace-pre-wrap line-clamp-4",children:[!!s&&(0,n.jsx)("p",{className:"font-title-14 text-text-strong",children:s}),!!o&&(0,n.jsx)("p",{className:"font-body-14 text-text-strong",dangerouslySetInnerHTML:{__html:g}})]}),(0,n.jsx)(x,{id:d,isBookmark:t,date:c,disabledEditor:h})]}),(0,n.jsx)(l.Z,{disabledEditor:h,isOpen:m,onDismiss:()=>{f(!1)},onSaveText:async e=>{await w(e),p(e)},value:g,id:d,lastUpdated:c,isBookmark:t})]})}},22668:function(e,t,s){"use strict";var n=s(47586),r=s(87921),a=s(92831),i=s(6557);t.Z=e=>{var t,s;let{title:l,content:o,buttons:c,...d}=e;return"undefined"==typeof document?null:(0,r.createPortal)((0,n.jsx)(i.Z,{...d,children:(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center z-30 relative",children:(0,n.jsxs)("div",{className:"py-5 px-6 border border-line-normal relative rounded-[20px] bg-neutral-white min-w-[21.375rem] max-w-[36.625rem] min-h-[9.75rem] flex flex-col justify-between",style:{boxShadow:"0px 4px 12px 0px #00000014"},children:[(0,n.jsx)(a.Z,{size:24,onClick:d.onDismiss,className:"cursor-pointer absolute right-6 top-[1.625rem]"}),(0,n.jsx)("p",{className:"font-head-20 text-text-strong mt-0.5 pr-12",children:l}),o&&(0,n.jsx)("p",{className:"font-title-14 text-text-strong mt-6",children:o}),c&&(0,n.jsxs)("div",{className:"flex items-center gap-2.5 justify-end",children:[(0,n.jsx)("button",{className:null!==(t=c.left.className)&&void 0!==t?t:"button-secondary button-medium",onClick:e=>{var t,s,n;null===(t=(s=c.left).onClick)||void 0===t||t.call(s,e),null===(n=d.onDismiss)||void 0===n||n.call(d)},children:c.left.text}),(0,n.jsx)("button",{className:null!==(s=c.right.className)&&void 0!==s?s:"button-primary button-medium",onClick:e=>{var t,s,n;null===(t=(s=c.right).onClick)||void 0===t||t.call(s,e),null===(n=d.onDismiss)||void 0===n||n.call(d)},children:c.right.text})]})]})})}),document.body)}},29335:function(e,t,s){"use strict";var n=s(80890),r=s(28823),a=s(58098);t.Z=()=>{let e=(0,n.b9)(a.f),[t,s]=(0,n.KO)(a.y);return{addToast:(0,r.useCallback)(n=>{let{message:r,iconType:a}=n;s(e=>e+1),e(e=>[{id:t,message:r,iconType:a},...e]),setTimeout(()=>{e(e=>e.filter(e=>e.id!==t))},3e3)},[t,s,e])}}},96181:function(e,t,s){"use strict";s.d(t,{a:function(){return f}});var n=s(80890),r=s(69219),a=s(18775);let i={invalid_request:"올바른 이메일 주소를 입력해 주세요.",already_exist_email:"이미 등록된 이메일입니다.",invalid_password:"비밀번호를 다시 확인해 주세요.",incorrect_password:"비밀번호를 다시 확인해 주세요.",incorrect_credentials:"이메일 또는 비밀번호를 다시 확인해 주세요."},l=e=>i[e.code]?{errorMessage:i[e.code]}:{errorMessage:"Unknown error"},o=async(e,t)=>{try{return await (0,a.QQ)("/auth/sign-in",{email:e,password:t})}catch(e){return l(e)}},c=async e=>{try{return await (0,a.QQ)("/auth/email",{email:e})}catch(e){return l(e)}},d=async(e,t)=>{try{return await (0,a.QQ)("/auth/email/verification",{emailId:e,code:t})}catch(e){return l(e)}},u=async e=>{let{emailId:t,password:s,nickname:n}=e;try{return await (0,a.QQ)("/auth/sign-up",{emailId:t,password:s,nickname:n})}catch(e){return l(e)}};var h=s(41834);let x=(0,s(70140).cn)({accessToken:"",refreshToken:""});var m=s(29335);let f=()=>{let e=(0,r.useRouter)(),t=(0,n.b9)(x),s=(0,n.b9)(h.I),{addToast:a}=(0,m.Z)();return{userLogin:async(e,s)=>{let n=await o(e,s);if(!("accessToken"in n))return a({message:n.errorMessage,iconType:"error"}),"error";{let e=n.accessToken;return localStorage.setItem("accessToken",e),t(e=>({...e,accessToken:n.accessToken})),"success"}},userLogout:()=>{localStorage.removeItem("accessToken"),t(e=>({...e,accessToken:""})),e.push("/auth/login")},userEmailCheck:async(e,t)=>{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e))return a({message:"올바른 이메일 주소를 입력해 주세요.",iconType:"error"}),"error";let n=await c(e);return"id"in n?(s(n),a({message:t?"인증 메일을 다시 전송했어요.":"인증 메일을 전송했어요.",iconType:"success"}),"success"):(a({message:n.errorMessage,iconType:"error"}),"error")},userEmailVerification:async(e,t)=>{let s=await d(e,t);return"isVerified"in s&&s.isVerified?"success":(a({message:"인증번호를 다시 확인해주세요.",iconType:"error"}),"error")},userSignUp:async e=>{let{emailId:s,password:n,nickname:r}=e,i=await u({emailId:s,password:n,nickname:r});return"token"in i?(localStorage.setItem("accessToken",i.token),t(e=>({...e,accessToken:i.token})),"success"):(a({message:i.errorMessage,iconType:"error"}),"error")},userExpired:t=>{var s;(401===t.status||(null===(s=t.response)||void 0===s?void 0:s.status)===401)&&(e.push("/auth/login"),localStorage.setItem("accessToken",""))}}}},58098:function(e,t,s){"use strict";s.d(t,{f:function(){return r},y:function(){return a}});var n=s(70140);let r=(0,n.cn)([]),a=(0,n.cn)(0)},41834:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});let n=(0,s(70140).cn)({id:"",email:""})},54712:function(e,t,s){"use strict";s.d(t,{W:function(){return n}});let n=(0,s(70140).cn)(!1)},95750:function(e,t,s){"use strict";s.d(t,{C:function(){return o}});var n=s(70140);let{year:r,month:a,week:i}=(0,s(52138)._y)(),l=new Date,o=(0,n.cn)({year:r,month:a,week:i,date:l.getDate(),day:0===l.getDay()?l.getDay():4})},663:function(e,t,s){"use strict";s.d(t,{K:function(){return n}});let n=(e,t)=>e.toString().padStart(t,"0")},65492:function(e,t){"use strict";t.Z={src:"/_next/static/media/memo-empty.5dd44736.png",height:200,width:200,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEWdnaKYnZ+Xm5uYm6GYnKGZnKGeoaaYm5+Zm5+Zm6F7ISGyAAAACnRSTlMBJRFPzbqYPnN4rZpPqgAAAAlwSFlzAAAWJQAAFiUBSVIk8AAAAC1JREFUeJxVi8kJADAMw3zkaPdfuKS/6GGBQcDCnJW6xpQjD8GbYWquIr7ZO3wMlwBYxy8Y3gAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[116,990,796,890,38,384,97,892,569,891,659,366,400,744],function(){return e(e.s=11827)}),_N_E=e.O()}]);