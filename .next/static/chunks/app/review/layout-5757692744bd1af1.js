(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{57648:function(e,t,n){Promise.resolve().then(n.t.bind(n,95384,23)),Promise.resolve().then(n.bind(n,78e3)),Promise.resolve().then(n.bind(n,8467))},78e3:function(e,t,n){"use strict";n.d(t,{ActivePage:function(){return i}});var r=n(47586),a=n(80890),s=n(28828),o=n(53173);let i=()=>{let e=(0,a.Dv)(o.pj);return(0,r.jsx)(s.Z,{totalCount:3,activeCount:e,displayType:"step"})}},8467:function(e,t,n){"use strict";var r=n(47586),a=n(28823),s=n(3855),o=n(14239);let{year:i,month:u,week:l}=(0,n(47613)._y)();t.default=()=>{let[e,t]=(0,a.useState)([]),n=async()=>{t((await (0,s.k)({year:i,month:u,week:l})).memos.map(e=>({id:e.id,isMarked:e.isMarked,content:e.content,updatedAt:e.updatedAt})))};return((0,a.useEffect)(()=>{n()},[]),0===e.length)?null:(0,r.jsx)("div",{className:"flex flex-col gap-3",children:e.map((e,t)=>(0,r.jsx)(o.Z,{id:String(e.id),memo:e.content,date:e.updatedAt,disabledEditor:!0},String(t)))})}},53173:function(e,t,n){"use strict";n.d(t,{Ct:function(){return c},DP:function(){return a},DQ:function(){return s},GR:function(){return f},P$:function(){return E},bA:function(){return F},c6:function(){return u},cd:function(){return i},gV:function(){return d},jI:function(){return g},pj:function(){return o},r3:function(){return m},vS:function(){return x},y9:function(){return p},yX:function(){return l},zs:function(){return D}});var r=n(70140);let a=(0,r.cn)(0),s=(0,r.cn)(0),o=(0,r.cn)(1),i=(0,r.cn)({step1:!1,step2:!1,step3:!1}),u=(0,r.cn)({step1:!1,step2:!1,step3:!1}),l=(0,r.cn)([]),c=(0,r.cn)([]),f=(0,r.cn)([]),F=(0,r.cn)([]),d=(0,r.cn)([]),p=(0,r.cn)([]),D=(0,r.cn)([]),g=(0,r.cn)([]),m=(0,r.cn)([]),x=(0,r.cn)([]),E=(0,r.cn)([])},14239:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(47586),a=n(28823),s=n(18775);let o=async e=>await (0,s.vx)("/memos/bookmark",{id:e}),i=async e=>{let{id:t,content:n,isMarked:r}=e;return await (0,s.vx)("/memos/".concat(t),{content:n,isMarked:r})};var u=n(41778),l=n(54167),c=n(80890),f=n(53173),F=n(86241),d=n(47613),p=e=>{let{size:t=20,stroke:n="#999CA1",fill:a="none",...s}=e;return(0,r.jsx)("svg",{width:t,height:t,viewBox:"0 0 20 20",fill:a,xmlns:"http://www.w3.org/2000/svg",...s,children:(0,r.jsx)("path",{d:"M5 5C5 4.44772 5.44772 4 6 4H14C14.5523 4 15 4.44772 15 5V15.7962C15 16.6554 13.9881 17.1146 13.3415 16.5488L10.6585 14.2012C10.2815 13.8713 9.71852 13.8713 9.3415 14.2012L6.6585 16.5488C6.01192 17.1146 5 16.6554 5 15.7962V5Z",stroke:n,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})},D=e=>{let{isBookmark:t,date:n,id:s}=e,[i,u]=(0,a.useState)(t),l=(0,c.b9)(f.P$);(0,a.useEffect)(()=>{u(t)},[t]);let D=async()=>{try{await o(Number(s))}catch(e){console.error("fail to bookmark memo",e)}},g=async()=>{await D(),u(e=>!e),l(e=>e.map(e=>e.id===s?{...e,isBookmark:!e.isBookmark}:e))};return(0,r.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,r.jsx)("p",{className:"font-body-12 text-text-neutral",children:(0,d.PK)(n)}),(0,r.jsx)("button",{type:"button",onClick:async e=>{e.stopPropagation(),await g()},children:(0,r.jsx)(p,{fill:i?F.Z.line.focus:"none",stroke:i?F.Z.line.focus:F.Z.text.neutral,className:"cursor-pointer"})})]})},g=e=>{let{isBookmark:t=!1,title:n,memo:s,date:o,id:c,className:f,disabledEditor:F}=e,[d,p]=(0,a.useState)(!1),[g,m]=(0,a.useState)(null!=s?s:""),x=async e=>{try{await i({id:Number(c),content:e,isMarked:t})}catch(e){console.error("fail to update memo",e)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:(0,u.cn)("w-[15.75rem] h-[8.75rem] rounded-lg pt-5 pr-4 pb-2.5 pl-5 flex flex-col gap-2.5 bg-surface-foreground",f),style:{boxShadow:"0px 8px 20px 0px #00000014, 0px 0px 2px 0px #0000000D"},onClick:()=>{p(!0)},children:[(0,r.jsxs)("div",{className:"w-full h-full pr-1 break-keep overflow-hidden whitespace-pre-wrap line-clamp-4",children:[!!n&&(0,r.jsx)("p",{className:"font-title-14 text-text-strong",children:n}),!!s&&(0,r.jsx)("p",{className:"font-body-14 text-text-strong",dangerouslySetInnerHTML:{__html:g}})]}),(0,r.jsx)(D,{id:c,isBookmark:t,date:o})]}),(0,r.jsx)(l.Z,{disabledEditor:F,isOpen:d,onDismiss:()=>{p(!1)},onSaveText:async e=>{await x(e),m(e)},value:g})]})}},28828:function(e,t,n){"use strict";var r=n(47586),a=n(41778);t.Z=e=>{let{totalCount:t,displayType:n,activeCount:s,className:o}=e;return(0,r.jsx)("div",{className:(0,a.cn)("flex gap-2.5 bg-transparent",o),children:Array.from({length:t},(e,t)=>(0,r.jsx)("div",{className:(0,a.cn)("w-3 h-3 rounded-full","step"===n&&t===s-1||"progress"===n&&t<s?"bg-surface-normal":"bg-surface-base")},"dot-".concat(t)))})}},86241:function(e,t){"use strict";t.Z={neutral:{95:"#1C1D1E",90:"#292A2D",80:"#4D4F52",70:"#66696E",60:"#808389",50:"#999CA1",40:"#B3B5B8",30:"#CECECE",20:"#E1E1E1",10:"#EFEFEF",white:"#FFFFFF"},red:{90:"#451305",80:"#7F270F",70:"#C02C02",60:"#E33302",50:"#FF3D0D",40:"#FF5C37",30:"#FF8A70",20:"#FFB8A9",10:"#FFDDD4",5:"#FFF2EF"},green:{90:"#1C4B00",80:"#245F00",70:"#348700",60:"#43B000",50:"#5FD915",40:"#7FFF30",30:"#ADFF7B",20:"#C4FFA0",10:"#DBFFC5",5:"#F2FFEA"},transparent:"transparent",text:{strong:"#292A2D",normal:"#66696E",neutral:"#999CA1",assistive:"#CECECE",invert:"#FFFFFF",primary:"#FF3D0D"},surface:{foreground:"#FFFFFF",foregroundOn:"#F7F7F7",background:"#EFEFEF",base:"#E1E1E1",accent:"#999CA1",alternative:"#4D4F52",invert:"#1C1D1E",strong:"#E33302",normal:"#FF3D0D",light:"#FFDDD4",blank:"transparent",dimmer:"#00000080",assistive:"#00000014"},line:{normal:"#CECECE",normalHover:"#B3B5B8",assistive:"#EFEFEF",focus:"#FF5C37"},button:{primary:"#1C1D1E",primaryHover:"#4D4F52",secondary:"#E1E1E1",secondaryHover:"#CECECE",disabled:"#F7F7F7"},state:{positive:"#43B000",caution:"#FFD02A",negative:"#E20000"}}},47613:function(e,t,n){"use strict";n.d(t,{_y:function(){return u},PK:function(){return f},eQ:function(){return l},lE:function(){return c}});var r=n(20117);let a=e=>{let t=null!=e?e:new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=0===n.getDay()?7:n.getDay();n.setDate(n.getDate()+(4-r));let a=new Date(n.getFullYear(),n.getMonth(),1),s=0===a.getDay()?7:a.getDay(),o=new Date(a.setDate(a.getDate()+((s<=4?1:8)-s))),i=Math.floor((n.getTime()-o.getTime())/864e5);return{year:n.getFullYear(),month:n.getMonth()+1,week:Math.floor(i/7)+1}},s=e=>{let{year:t,month:n}=e,a=function(e){let t=(0,r.Q)(e);return t.setDate(1),t.setHours(0,0,0,0),t}(new Date(t,n-1)),s=function(e){let t=(0,r.Q)(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}(a);return(function(e,t){let n=(0,r.Q)(e.start),a=(0,r.Q)(e.end),s=+n>+a,o=s?+n:+a,i=s?a:n;i.setHours(0,0,0,0);let u=1;u<0&&(u=-u,s=!s);let l=[];for(;+i<=o;)l.push((0,r.Q)(i)),i.setDate(i.getDate()+u),i.setHours(0,0,0,0);return s?l.reverse():l})({start:a,end:s}).filter(e=>4===(0,r.Q)(e).getDay()).length},o=e=>{let t=null!=e?e:new Date,n=0===t.getDay()?6:Math.abs(t.getDay()-1),r=new Date;r.setTime(r.getTime()+324e5),r.setDate(r.getDate()-n);let[a,s,o]=r.toISOString().split("T")[0].split("-");return{startDate:r,startYear:a,startMonth:s,startDay:o}},i=e=>{let{startDate:t}=o(null!=e?e:new Date),n=new Date;n.setTime(n.getTime()+324e5),n.setDate(t.getDate()+6);let[r,a,s]=n.toISOString().split("T")[0].split("-");return{endDate:n,endYear:r,endMonth:a,endDay:s}},u=e=>{let{year:t,month:n,week:r}=a(null!=e?e:new Date),u=s({year:t,month:n}),{startDate:l,startYear:c,startMonth:f,startDay:F}=o(e),{endDate:d,endYear:p,endMonth:D,endDay:g}=i(e);return{year:t,month:n,week:r,totalWeek:u,startDate:l,startYear:c,startMonth:f,startDay:F,endDate:d,endYear:p,endMonth:D,endDay:g}},l=e=>{let{endDate:t}=u(null!=e?e:new Date),n=new Date;n.setDate(t.getDate()+1);let{year:r,month:s,week:o}=a(n);return{nextYear:r,nextMonth:s,nextWeek:o}},c=e=>{let{startDate:t}=u(null!=e?e:new Date),n=new Date;n.setDate(t.getDate()-1);let{year:r,month:s,week:o}=a(n);return{prevYear:r,prevMonth:s,prevWeek:o}},f=e=>{let[t]=e.split(" "),[,n,r]=t.split("-");return"".concat(n,".").concat(r)}},20117:function(e,t,n){"use strict";function r(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}n.d(t,{Q:function(){return r}})}},function(e){e.O(0,[116,990,796,890,38,97,384,891,500,366,400,744],function(){return e(e.s=57648)}),_N_E=e.O()}]);