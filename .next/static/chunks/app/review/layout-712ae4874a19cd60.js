(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[511],{57648:function(e,t,s){Promise.resolve().then(s.t.bind(s,95384,23)),Promise.resolve().then(s.bind(s,78e3)),Promise.resolve().then(s.bind(s,8467))},78e3:function(e,t,s){"use strict";s.d(t,{ActivePage:function(){return i}});var a=s(47586),n=s(80890),r=s(28828),o=s(53173);let i=()=>{let e=(0,n.Dv)(o.pj);return(0,a.jsx)(r.Z,{totalCount:3,activeCount:e,displayType:"step"})}},8467:function(e,t,s){"use strict";var a=s(47586),n=s(28823),r=s(3855),o=s(89137);let{year:i,month:l,week:c}=(0,s(52138)._y)();t.default=()=>{let[e,t]=(0,n.useState)([]),s=async()=>{t((await (0,r.k)({year:i,month:l,week:c})).memos.map(e=>({id:e.id,isMarked:e.isMarked,content:e.content,updatedAt:e.updatedAt})))};return((0,n.useEffect)(()=>{s()},[]),0===e.length)?null:(0,a.jsx)("div",{className:"flex flex-col gap-3",children:e.map((e,t)=>(0,a.jsx)(o.Z,{id:String(e.id),memo:e.content,date:e.updatedAt,disabledEditor:!0,isBookmark:e.isMarked},String(t)))})}},89137:function(e,t,s){"use strict";s.d(t,{Z:function(){return m}});var a=s(47586),n=s(28823),r=s(2319),o=s(41778),i=s(80313),l=s(80890),c=s(53173),d=s(86241),u=s(52138),p=s(10912),f=e=>{let{isBookmark:t,date:s,id:o,disabledEditor:i=!1}=e,[f,m]=(0,n.useState)(t),x=(0,l.b9)(c.P$);(0,n.useEffect)(()=>{m(t)},[t]);let b=async()=>{try{await (0,r.g)(Number(o))}catch(e){console.error("fail to bookmark memo",e)}},h=async()=>{await b(),m(e=>!e),x(e=>e.map(e=>e.id===o?{...e,isBookmark:!e.isBookmark}:e))};return(0,a.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,a.jsx)("p",{className:"font-body-12 text-text-neutral",children:(0,u.PK)(s)}),(i&&f||!i)&&(0,a.jsx)("button",{type:"button",onClick:async e=>{e.stopPropagation(),await h()},disabled:i,children:(0,a.jsx)(p.Z,{fill:f?d.Z.line.focus:"none",stroke:f?d.Z.line.focus:d.Z.text.neutral,className:i?"cursor-default":"cursor-pointer"})})]})},m=e=>{let{isBookmark:t=!1,title:s,memo:l,date:c,id:d,className:u,disabledEditor:p}=e,[m,x]=(0,n.useState)(!1),[b,h]=(0,n.useState)(null!=l?l:""),k=async e=>{try{await (0,r.y)({id:Number(d),content:e,isMarked:t})}catch(e){console.error("fail to update memo",e)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:(0,o.cn)("w-[15.75rem] h-[8.75rem] rounded-lg pt-5 pr-4 pb-2.5 pl-5 flex flex-col gap-2.5 bg-surface-foreground",u),style:{boxShadow:"0px 8px 20px 0px #00000014, 0px 0px 2px 0px #0000000D"},onClick:()=>{x(!0)},children:[(0,a.jsxs)("div",{className:"w-full h-full pr-1 break-keep overflow-hidden whitespace-pre-wrap line-clamp-4",children:[!!s&&(0,a.jsx)("p",{className:"font-title-14 text-text-strong",children:s}),!!l&&(0,a.jsx)("p",{className:"font-body-14 text-text-strong",dangerouslySetInnerHTML:{__html:b}})]}),(0,a.jsx)(f,{id:d,isBookmark:t,date:c,disabledEditor:p})]}),(0,a.jsx)(i.Z,{disabledEditor:p,isOpen:m,onDismiss:()=>{x(!1)},onSaveText:async e=>{await k(e),h(e)},value:b,id:d,lastUpdated:c,isBookmark:t})]})}},28828:function(e,t,s){"use strict";var a=s(47586),n=s(41778);t.Z=e=>{let{totalCount:t,displayType:s,activeCount:r,className:o}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex gap-2.5 bg-transparent",o),children:Array.from({length:t},(e,t)=>(0,a.jsx)("div",{className:(0,n.cn)("w-3 h-3 rounded-full","step"===s&&t===r-1||"progress"===s&&t<r?"bg-surface-normal":"bg-surface-base")},"dot-".concat(t)))})}}},function(e){e.O(0,[116,990,796,890,38,97,384,892,891,659,366,400,744],function(){return e(e.s=57648)}),_N_E=e.O()}]);